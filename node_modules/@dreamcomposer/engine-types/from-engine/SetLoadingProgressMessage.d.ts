import { FromEngineMessage } from "../post-messages";

/**
 * Sent whenever a file is loaded by the engine.
 */
export interface SetLoadingProgressMessage
  extends FromEngineMessage<"set-loading-progress"> {
  payload: {
    /**
     * Usually the URL of the file to load.
     */
    name: string;
    /**
     * The state of the loading progress.
     */
    state: "Created" | "In progress" | "Done";
    /**
     * The time at which the loading progress was updated.
     */
    timestamp: number;
    /**
     * The bytes loaded so far.
     *
     * `-1` if an error occurred.
     */
    bytes: number;
    /**
     * The total bytes of the file (or `0` if not known yet).
     *
     * `-1` if an error occurred.
     */
    total: number;
  };
}
