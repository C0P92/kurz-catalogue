import { ensureCallOrder } from "../util/ensure-call-order.js";
/**
 * Sets the embossing height texture.
 *
 * The height texture is a grayscale PNG image that is used to calculate the
 * height of the embossing. White pixels are considered to be the highest
 * embossing height and black pixels are the lowest.
 *
 * @param dcController The DcController object obtained from the init function.
 * @param blobOrUrl A blob or URL to the height texture in the PNG format.
 * @returns A promise that resolves when the heigh texture has been set.
 */
export const setEmbossingHeightTexture = ensureCallOrder(_setEmbossingHeightTexture);
export async function _setEmbossingHeightTexture(dcController, data) {
    let blob;
    if (typeof data === "string") {
        const response = await fetch(data);
        blob = await response.blob();
    }
    else {
        blob = data;
    }
    return dcController.postMessage({
        channel: "set-embossing-height-texture",
        payload: blob,
    });
}
