/**
 * Downloads a high-resolution screenshot of the current scene in the PNG
 * format.
 *
 * The download starts automatically once the screenshot has been rendered.
 *
 * @param dcController The DcController object obtained from the init function.
 * @param options The options for the screenshot.
 * @returns A promise that resolves when screenshot has been downloaded.
 */
export function downloadScreenshot(dcController, options) {
    if (!dcController.isLoaded()) {
        throw new Error("Screenshot cannot be taken when viewer is not loaded.");
    }
    return dcController.postMessage({
        channel: "download-screenshot",
        payload: options,
    }, {
        memorize: false,
    });
}
